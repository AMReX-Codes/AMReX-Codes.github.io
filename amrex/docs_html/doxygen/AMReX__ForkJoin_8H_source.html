<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AMReX: /home/runner/work/amrex/amrex/Src/Base/AMReX_ForkJoin.H Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AMReX
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_413f4e031a85da0d68269c6fd2f76e1c.html">Src</a></li><li class="navelem"><a class="el" href="dir_045e59958a67bf379077e0fcfc423b1e.html">Base</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AMReX_ForkJoin.H</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AMReX__ForkJoin_8H.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef AMREX_FORKJOIN_H</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define AMREX_FORKJOIN_H</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;AMReX_Config.H&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AMReX__ParallelContext_8H.html">AMReX_ParallelContext.H</a>&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AMReX__MultiFab_8H.html">AMReX_MultiFab.H</a>&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceamrex.html">amrex</a> {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html">   10</a></span>&#160;<span class="keyword">class </span><a class="code" href="classamrex_1_1ForkJoin.html">ForkJoin</a></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;{</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282">   14</a></span>&#160;    <span class="keyword">enum class</span> <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282">Strategy</a> {</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282add5c07036f2975ff4bce568b6511d3bc">single</a>,     </div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282a24f1b0a79473250c195c7fb84e393392">duplicate</a>,  </div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282aeefec303079ad17405c889e092e105b0">split</a>,      </div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    };</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466">   19</a></span>&#160;    <span class="keyword">enum class</span> <a class="code" href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466">Intent</a> { in, out, inout };</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1ComponentSet.html">   22</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structamrex_1_1ForkJoin_1_1ComponentSet.html">ComponentSet</a> {</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1ComponentSet.html#af2f4c74446fd82b0a03403dcbecb6e7d">   26</a></span>&#160;        <a class="code" href="structamrex_1_1ForkJoin_1_1ComponentSet.html#af2f4c74446fd82b0a03403dcbecb6e7d">ComponentSet</a>() {}</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1ComponentSet.html#a7d0fbbb79ec0286ab72dfe0d23116573">   27</a></span>&#160;        <a class="code" href="structamrex_1_1ForkJoin_1_1ComponentSet.html#a7d0fbbb79ec0286ab72dfe0d23116573">ComponentSet</a>(<span class="keywordtype">int</span> lo_, <span class="keywordtype">int</span> hi_) : lo(lo_), hi(hi_) {}</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1ComponentSet.html#a12a2ef93337b59b9371db5f9bc43be69">   28</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="structamrex_1_1ForkJoin_1_1ComponentSet.html#a12a2ef93337b59b9371db5f9bc43be69">lo</a>; </div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1ComponentSet.html#aa6ebc6ce0f58172561258c343c9b0921">   29</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="structamrex_1_1ForkJoin_1_1ComponentSet.html#aa6ebc6ce0f58172561258c343c9b0921">hi</a>; </div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    };</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="classamrex_1_1ForkJoin.html#a0390a77315df9f09143645cbecf24515">ForkJoin</a> (<span class="keyword">const</span> <a class="code" href="classamrex_1_1Vector.html">Vector&lt;int&gt;</a> &amp;task_rank_n);</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="classamrex_1_1ForkJoin.html#a0390a77315df9f09143645cbecf24515">ForkJoin</a> (<span class="keyword">const</span> <a class="code" href="classamrex_1_1Vector.html">Vector&lt;double&gt;</a> &amp;task_rank_pct);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a2d8bbf7d8eb515f4249b97829a733c33">   36</a></span>&#160;    <a class="code" href="classamrex_1_1ForkJoin.html#a2d8bbf7d8eb515f4249b97829a733c33">ForkJoin</a> (<span class="keywordtype">int</span> ntasks)</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        : <a class="code" href="classamrex_1_1ForkJoin.html">ForkJoin</a>( <a class="code" href="classamrex_1_1Vector.html">Vector</a>&lt;double&gt;(ntasks, 1.0 / ntasks) ) { }</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a0f117148e0f71675c66d2658a49c75cc">   39</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classamrex_1_1ForkJoin.html#a0f117148e0f71675c66d2658a49c75cc">NTasks</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classamrex_1_1ForkJoin.html#a696ffed713794753cb3d42f63eaad6ab">split_bounds</a>.<a class="code" href="classamrex_1_1Vector.html#a58c24fe05cc91d42ebe7151c398f0c58">size</a>() - 1; }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#aed6698adf890b9907f61c1c00e81618e">   41</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classamrex_1_1ForkJoin.html#aed6698adf890b9907f61c1c00e81618e">MyTask</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classamrex_1_1ForkJoin.html#ac7e00cc0d9436d4445b3e338b46dd003">task_me</a>; }</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#ab1ed7e37b6df653a97423cd2402d4817">   43</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classamrex_1_1ForkJoin.html#ab1ed7e37b6df653a97423cd2402d4817">Verbose</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classamrex_1_1ForkJoin.html#a943794e0f810e216579ad8156d11cd20">flag_verbose</a>; }</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#ac9e1d5f47bb112898e4bf7f56d738f0a">   45</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#ac9e1d5f47bb112898e4bf7f56d738f0a">SetVerbose</a> (<span class="keywordtype">bool</span> verbose_in) { <a class="code" href="classamrex_1_1ForkJoin.html#a943794e0f810e216579ad8156d11cd20">flag_verbose</a> = verbose_in; }</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="structamrex_1_1ForkJoin_1_1ComponentSet.html">ComponentSet</a> <a class="code" href="classamrex_1_1ForkJoin.html#a9dda141f12088bebd3b62ae96407ecdf">ComponentBounds</a>(<span class="keyword">const</span> std::string&amp; name, <span class="keywordtype">int</span> idx=0) <span class="keyword">const</span>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a3b7821d6402f8c532e1ca31bef733a75">   49</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classamrex_1_1ForkJoin.html#a3b7821d6402f8c532e1ca31bef733a75">NProcsTask</a> (<span class="keywordtype">int</span> task)<span class="keyword"> const </span>{</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <a class="code" href="AMReX__BLassert_8H.html#aad6450907585a147153aef621fdc6007">AMREX_ASSERT</a>(task + 1 &lt; <a class="code" href="classamrex_1_1ForkJoin.html#a696ffed713794753cb3d42f63eaad6ab">split_bounds</a>.<a class="code" href="classamrex_1_1Vector.html#a58c24fe05cc91d42ebe7151c398f0c58">size</a>());</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classamrex_1_1ForkJoin.html#a696ffed713794753cb3d42f63eaad6ab">split_bounds</a>[task + 1] - <a class="code" href="classamrex_1_1ForkJoin.html#a696ffed713794753cb3d42f63eaad6ab">split_bounds</a>[task];</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#a66e56de654ced923e6885ebd79bd75f2">reg_mf</a> (<a class="code" href="classamrex_1_1MultiFab.html">MultiFab</a> &amp;mf, <span class="keyword">const</span> std::string &amp;name, <span class="keywordtype">int</span> idx,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                 <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282">Strategy</a> strategy, <a class="code" href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466">Intent</a> intent, <span class="keywordtype">int</span> owner = -1);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#aed221768a48c51c89a5b4c2c5d0de5b3">   57</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#aed221768a48c51c89a5b4c2c5d0de5b3">reg_mf</a> (<a class="code" href="classamrex_1_1MultiFab.html">MultiFab</a> &amp;mf, <span class="keyword">const</span> std::string &amp;name,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                 <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282">Strategy</a> strategy, <a class="code" href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466">Intent</a> intent, <span class="keywordtype">int</span> owner = -1) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a66e56de654ced923e6885ebd79bd75f2">reg_mf</a>(mf, name, 0, strategy, intent, owner);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a3a644e5e5a02bd0c163b612784f06c24">   65</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#a3a644e5e5a02bd0c163b612784f06c24">reg_mf</a> (<span class="keyword">const</span> <a class="code" href="classamrex_1_1MultiFab.html">MultiFab</a> &amp;mf, <span class="keyword">const</span> std::string &amp;name, <span class="keywordtype">int</span> idx,</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                 <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282">Strategy</a> strategy, <a class="code" href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466">Intent</a> intent, <span class="keywordtype">int</span> owner = -1) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="AMReX__BLassert_8H.html#a8013eb3b1fc596632383f1bb7c40e92c">AMREX_ASSERT_WITH_MESSAGE</a>(intent == <a class="code" href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466a13b5bfe96f3e2fe411c9f66f4a582adf">Intent::in</a>,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                  <span class="stringliteral">&quot;const MultiFab must be registered read-only&quot;</span>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a66e56de654ced923e6885ebd79bd75f2">reg_mf</a>(const_cast&lt;MultiFab&amp;&gt;(mf), name, idx, strategy, intent, owner);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#aa15bb285525ea9be4f00ee4dbd6cd1eb">   71</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#aa15bb285525ea9be4f00ee4dbd6cd1eb">reg_mf</a> (<span class="keyword">const</span> <a class="code" href="classamrex_1_1MultiFab.html">MultiFab</a> &amp;mf, <span class="keyword">const</span> std::string &amp;name,</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                 <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282">Strategy</a> strategy, <a class="code" href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466">Intent</a> intent, <span class="keywordtype">int</span> owner = -1) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a66e56de654ced923e6885ebd79bd75f2">reg_mf</a>(mf, name, 0, strategy, intent, owner);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#aa85661d9ea8d4f7ccf69146257b53f6b">   76</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#aa85661d9ea8d4f7ccf69146257b53f6b">reg_mf_vec</a> (<span class="keyword">const</span> <a class="code" href="classamrex_1_1Vector.html">Vector&lt;MultiFab *&gt;</a> &amp;mfs, <span class="keyword">const</span> std::string &amp;name,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                     <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282">Strategy</a> strategy, <a class="code" href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466">Intent</a> intent, <span class="keywordtype">int</span> owner = -1) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a1223321add76c9d8eb7dc032c051012d">data</a>[name].reserve(mfs.<a class="code" href="classamrex_1_1Vector.html#a58c24fe05cc91d42ebe7151c398f0c58">size</a>());</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; mfs.<a class="code" href="classamrex_1_1Vector.html#a58c24fe05cc91d42ebe7151c398f0c58">size</a>(); ++i) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <a class="code" href="classamrex_1_1ForkJoin.html#a66e56de654ced923e6885ebd79bd75f2">reg_mf</a>(*mfs[i], name, i, strategy, intent, owner);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a881f63caba3362175d9b80ff372c70ea">   85</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#a881f63caba3362175d9b80ff372c70ea">reg_mf_vec</a> (<span class="keyword">const</span> <a class="code" href="classamrex_1_1Vector.html">Vector&lt;MultiFab const *&gt;</a> &amp;mfs, <span class="keyword">const</span> std::string &amp;name,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                     <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282">Strategy</a> strategy, <a class="code" href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466">Intent</a> intent, <span class="keywordtype">int</span> owner = -1) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a1223321add76c9d8eb7dc032c051012d">data</a>[name].reserve(mfs.<a class="code" href="classamrex_1_1Vector.html#a58c24fe05cc91d42ebe7151c398f0c58">size</a>());</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; mfs.<a class="code" href="classamrex_1_1Vector.html#a58c24fe05cc91d42ebe7151c398f0c58">size</a>(); ++i) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <a class="code" href="classamrex_1_1ForkJoin.html#a66e56de654ced923e6885ebd79bd75f2">reg_mf</a>(*mfs[i], name, i, strategy, intent, owner);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#a96e939e22bb7efb14a07a6f9260cce89">modify_ngrow</a> (<span class="keyword">const</span> std::string &amp;name, <span class="keywordtype">int</span> idx, <a class="code" href="classamrex_1_1IntVect.html">IntVect</a> ngrow);</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a89798a7caff182b9c8e3d5803842fd5c">   95</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#a89798a7caff182b9c8e3d5803842fd5c">modify_ngrow</a> (<span class="keyword">const</span> std::string &amp;name, <a class="code" href="classamrex_1_1IntVect.html">IntVect</a> ngrow) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a96e939e22bb7efb14a07a6f9260cce89">modify_ngrow</a>(name, 0, ngrow);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#acd674b9f0159c359a040afa7e3ba4fe8">modify_split</a> (<span class="keyword">const</span> std::string &amp;name, <span class="keywordtype">int</span> idx, <a class="code" href="classamrex_1_1Vector.html">Vector&lt;ComponentSet&gt;</a> comp_split);</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#aeeadf363cdd980b987df6b196dcd8c6d">  101</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#aeeadf363cdd980b987df6b196dcd8c6d">modify_split</a> (<span class="keyword">const</span> std::string &amp;name, <a class="code" href="classamrex_1_1Vector.html">Vector&lt;ComponentSet&gt;</a> comp_split) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#acd674b9f0159c359a040afa7e3ba4fe8">modify_split</a>(name, 0, comp_split);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// TODO: may want to de-register MFs if they change across invocations</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a7d6ce14751cb1212501bb1cdc36f57cb">  107</a></span>&#160;    <a class="code" href="classamrex_1_1MultiFab.html">MultiFab</a> &amp;<a class="code" href="classamrex_1_1ForkJoin.html#a7d6ce14751cb1212501bb1cdc36f57cb">get_mf</a> (<span class="keyword">const</span> std::string &amp;name, <span class="keywordtype">int</span> idx = 0) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="AMReX__BLassert_8H.html#a8013eb3b1fc596632383f1bb7c40e92c">AMREX_ASSERT_WITH_MESSAGE</a>(<a class="code" href="classamrex_1_1ForkJoin.html#a1223321add76c9d8eb7dc032c051012d">data</a>.count(name) &gt; 0 &amp;&amp; idx &lt; <a class="code" href="classamrex_1_1ForkJoin.html#a1223321add76c9d8eb7dc032c051012d">data</a>[name].size(), <span class="stringliteral">&quot;get_mf(): name or index not found&quot;</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="AMReX__BLassert_8H.html#aad6450907585a147153aef621fdc6007">AMREX_ASSERT</a>(<a class="code" href="classamrex_1_1ForkJoin.html#ac7e00cc0d9436d4445b3e338b46dd003">task_me</a> &gt;= 0 &amp;&amp; <a class="code" href="classamrex_1_1ForkJoin.html#ac7e00cc0d9436d4445b3e338b46dd003">task_me</a> &lt; <a class="code" href="classamrex_1_1ForkJoin.html#a1223321add76c9d8eb7dc032c051012d">data</a>[name][idx].forked.size());</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classamrex_1_1ForkJoin.html#a1223321add76c9d8eb7dc032c051012d">data</a>[name][idx].forked[<a class="code" href="classamrex_1_1ForkJoin.html#ac7e00cc0d9436d4445b3e338b46dd003">task_me</a>];</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a8e0a68a47c9455b335eff47b577a44cb">  114</a></span>&#160;    <a class="code" href="classamrex_1_1Vector.html">Vector&lt;MultiFab *&gt;</a> <a class="code" href="classamrex_1_1ForkJoin.html#a8e0a68a47c9455b335eff47b577a44cb">get_mf_vec</a> (<span class="keyword">const</span> std::string &amp;name) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordtype">int</span> dim = <a class="code" href="classamrex_1_1ForkJoin.html#a1223321add76c9d8eb7dc032c051012d">data</a>.at(name).size();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="classamrex_1_1Vector.html">Vector&lt;MultiFab *&gt;</a> result(dim);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; dim; ++idx) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            result[idx] = &amp;<a class="code" href="classamrex_1_1ForkJoin.html#a7d6ce14751cb1212501bb1cdc36f57cb">get_mf</a>(name, idx);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a9bda4e24001c99d756c6104f67925e72">  123</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#a9bda4e24001c99d756c6104f67925e72">set_task_output_dir</a> (<span class="keyword">const</span> std::string &amp; dir)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#ac17370c5ba5f31bf037c5ca3992c3f66">task_output_dir</a> = dir;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#acc05284c00f1aafed90fb1c2a2fd6386">  128</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#acc05284c00f1aafed90fb1c2a2fd6386">set_task_output_file</a> (<span class="keyword">const</span> std::string &amp; filename)</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <a class="code" href="namespaceamrex_1_1ParallelContext.html#af6494464a81b93bee92095f59487324b">ParallelContext::set_last_frame_ofs</a>(filename);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> F&gt;</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a2f557068fd57a8cd131263fa6769b631">  134</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#a2f557068fd57a8cd131263fa6769b631">fork_join</a> (<span class="keyword">const</span> F &amp;fn)</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#ad9801acca834dcbc7ec55dd3c34f48aa">flag_invoked</a> = <span class="keyword">true</span>; <span class="comment">// set invoked flag</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> io_rank = 0; <span class="comment">// team&#39;s sub-rank 0 does IO</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#ad4b77ac1de1547c3903014ba22c0306b">create_task_output_dir</a>();</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="AMReX__ccse-mpi_8H.html#a68c509d4adb3f4a1d6fe3a9b0b87c7b9">MPI_Comm</a> task_comm = <a class="code" href="classamrex_1_1ForkJoin.html#af28d2dad955c8aeeb067472559794d86">split_tasks</a>();</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a76a2bb1b6fb5ffd97b28020531b6f3f6">copy_data_to_tasks</a>(); <span class="comment">// move data to local tasks</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="namespaceamrex_1_1ParallelContext.html#a09cb92f4a123081a62f72e26a4e3c2a3">ParallelContext::push</a>(task_comm, <a class="code" href="classamrex_1_1ForkJoin.html#ac7e00cc0d9436d4445b3e338b46dd003">task_me</a>, io_rank);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#acc05284c00f1aafed90fb1c2a2fd6386">set_task_output_file</a>(<a class="code" href="classamrex_1_1ForkJoin.html#aecdcd8a490ce68812e19ba6e6f17d320">get_io_filename</a>());</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        fn(*<span class="keyword">this</span>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="code" href="namespaceamrex_1_1ParallelContext.html#a6bdab1c75756fa491add5ace4c59550f">ParallelContext::pop</a>();</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#ifdef BL_USE_MPI</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        MPI_Comm_free(&amp;task_comm);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#ad79ddeb1fdd7d6a72546c66728b3ccd8">copy_data_from_tasks</a>(); <span class="comment">// move local data back</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1MFFork.html">  153</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html">MFFork</a></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    {</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1MFFork.html#af278943e6089937c826f0bd0967a264f">  155</a></span>&#160;        <a class="code" href="classamrex_1_1MultiFab.html">MultiFab</a> *orig = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1MFFork.html#a922cc68b9dce362ee62f0d724dede442">  156</a></span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282">Strategy</a> <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html#a922cc68b9dce362ee62f0d724dede442">strategy</a>;</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1MFFork.html#adab1f2dcfd2d52eebf3c6727ef5e37d7">  157</a></span>&#160;        <a class="code" href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466">Intent</a> <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html#adab1f2dcfd2d52eebf3c6727ef5e37d7">intent</a>;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1MFFork.html#aab173e1a49428a72e1099f8925dfeb56">  158</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html#aab173e1a49428a72e1099f8925dfeb56">owner_task</a>; </div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1MFFork.html#ab30d7bacb605f55a7714f002a92f2cf6">  159</a></span>&#160;        <a class="code" href="classamrex_1_1IntVect.html">IntVect</a> <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html#ab30d7bacb605f55a7714f002a92f2cf6">ngrow</a>;</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1MFFork.html#a10f36654d975cbc986561d7c1931a02b">  160</a></span>&#160;        <a class="code" href="classamrex_1_1Vector.html">Vector&lt;ComponentSet&gt;</a> <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html#a10f36654d975cbc986561d7c1931a02b">comp_split</a>; </div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1MFFork.html#a335de4835763f4875e6c6089f5e739c9">  161</a></span>&#160;        <a class="code" href="classamrex_1_1Vector.html">Vector&lt;MultiFab&gt;</a> <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html#a335de4835763f4875e6c6089f5e739c9">forked</a>; </div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html">MFFork</a> () = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html">MFFork</a> (<span class="keyword">const</span> <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html">MFFork</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html">MFFork</a>&amp; operator= (<span class="keyword">const</span> <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html">MFFork</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html">MFFork</a> (<a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html">MFFork</a>&amp;&amp;) = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html">MFFork</a>&amp; operator= (<a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html">MFFork</a>&amp;&amp;) = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1MFFork.html#a67f00ed8c48e03e4b18dcecaa19b14d1">  168</a></span>&#160;        <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html#a67f00ed8c48e03e4b18dcecaa19b14d1">MFFork</a> (<a class="code" href="classamrex_1_1MultiFab.html">MultiFab</a> *omf, <a class="code" href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282">Strategy</a> s, <a class="code" href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466">Intent</a> i, <span class="keywordtype">int</span> own,</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <span class="keyword">const</span> <a class="code" href="classamrex_1_1IntVect.html">IntVect</a> &amp;ng,</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <a class="code" href="classamrex_1_1Vector.html">Vector&lt;ComponentSet&gt;</a> cs)</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            : orig(omf), strategy(s), intent(i), owner_task(own), ngrow(ng), comp_split(std::move(cs)) {}</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="structamrex_1_1ForkJoin_1_1MFFork.html#a3d57d55dc4495341b7bd6de0ac9e4bd6">  173</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="structamrex_1_1ForkJoin_1_1MFFork.html#a3d57d55dc4495341b7bd6de0ac9e4bd6">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> orig == <span class="keyword">nullptr</span>; }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    };</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a943794e0f810e216579ad8156d11cd20">  176</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classamrex_1_1ForkJoin.html#a943794e0f810e216579ad8156d11cd20">flag_verbose</a> = <span class="keyword">false</span>; </div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#ad9801acca834dcbc7ec55dd3c34f48aa">  177</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classamrex_1_1ForkJoin.html#ad9801acca834dcbc7ec55dd3c34f48aa">flag_invoked</a> = <span class="keyword">false</span>; </div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a696ffed713794753cb3d42f63eaad6ab">  178</a></span>&#160;    <a class="code" href="classamrex_1_1Vector.html">Vector&lt;int&gt;</a> <a class="code" href="classamrex_1_1ForkJoin.html#a696ffed713794753cb3d42f63eaad6ab">split_bounds</a>; </div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#ac7e00cc0d9436d4445b3e338b46dd003">  179</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classamrex_1_1ForkJoin.html#ac7e00cc0d9436d4445b3e338b46dd003">task_me</a> = -1; </div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a710675d78fd400523b979d941930b56e">  180</a></span>&#160;    std::map&lt;BoxArray::RefID, Vector&lt;std::unique_ptr&lt;DistributionMapping&gt;&gt;&gt; <a class="code" href="classamrex_1_1ForkJoin.html#a710675d78fd400523b979d941930b56e">dms</a>; </div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#a1223321add76c9d8eb7dc032c051012d">  181</a></span>&#160;    std::unordered_map&lt;std::string, Vector&lt;MFFork&gt;&gt; <a class="code" href="classamrex_1_1ForkJoin.html#a1223321add76c9d8eb7dc032c051012d">data</a>;</div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classamrex_1_1ForkJoin.html#ac17370c5ba5f31bf037c5ca3992c3f66">  182</a></span>&#160;    std::string <a class="code" href="classamrex_1_1ForkJoin.html#ac17370c5ba5f31bf037c5ca3992c3f66">task_output_dir</a> = <span class="stringliteral">&quot;&quot;</span>; </div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#af6b2818bec6a86128f3594b6684d4a42">init</a>(<span class="keyword">const</span> <a class="code" href="classamrex_1_1Vector.html">Vector&lt;int&gt;</a> &amp;task_rank_n);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">const</span> <a class="code" href="classamrex_1_1DistributionMapping.html">DistributionMapping</a> &amp;<a class="code" href="classamrex_1_1ForkJoin.html#ac35ec951548cc1e54dfc60b0d65df8e8">get_dm</a> (<span class="keyword">const</span> <a class="code" href="classamrex_1_1BoxArray.html">BoxArray</a>&amp; ba, <span class="keywordtype">int</span> task_idx,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classamrex_1_1DistributionMapping.html">DistributionMapping</a>&amp; dm_orig);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#a76a2bb1b6fb5ffd97b28020531b6f3f6">copy_data_to_tasks</a> ();</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#ad79ddeb1fdd7d6a72546c66728b3ccd8">copy_data_from_tasks</a> ();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="AMReX__ccse-mpi_8H.html#a68c509d4adb3f4a1d6fe3a9b0b87c7b9">MPI_Comm</a> <a class="code" href="classamrex_1_1ForkJoin.html#af28d2dad955c8aeeb067472559794d86">split_tasks</a> ();</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classamrex_1_1ForkJoin.html#ad4b77ac1de1547c3903014ba22c0306b">create_task_output_dir</a> ();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    std::string <a class="code" href="classamrex_1_1ForkJoin.html#aecdcd8a490ce68812e19ba6e6f17d320">get_io_filename</a> (<span class="keywordtype">bool</span> flag_unique = <span class="keyword">false</span>);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;};</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="preprocessor">#endif // AMREX_FORKJOIN_H</span></div><div class="ttc" id="classamrex_1_1Vector_html_a58c24fe05cc91d42ebe7151c398f0c58"><div class="ttname"><a href="classamrex_1_1Vector.html#a58c24fe05cc91d42ebe7151c398f0c58">amrex::Vector::size</a></div><div class="ttdeci">Long size() const noexcept</div><div class="ttdef"><b>Definition:</b> AMReX_Vector.H:50</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a0390a77315df9f09143645cbecf24515"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a0390a77315df9f09143645cbecf24515">amrex::ForkJoin::ForkJoin</a></div><div class="ttdeci">ForkJoin(const Vector&lt; int &gt; &amp;task_rank_n)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:46</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a3b7821d6402f8c532e1ca31bef733a75"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a3b7821d6402f8c532e1ca31bef733a75">amrex::ForkJoin::NProcsTask</a></div><div class="ttdeci">int NProcsTask(int task) const</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:49</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_af6b2818bec6a86128f3594b6684d4a42"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#af6b2818bec6a86128f3594b6684d4a42">amrex::ForkJoin::init</a></div><div class="ttdeci">void init(const Vector&lt; int &gt; &amp;task_rank_n)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:69</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a96e939e22bb7efb14a07a6f9260cce89"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a96e939e22bb7efb14a07a6f9260cce89">amrex::ForkJoin::modify_ngrow</a></div><div class="ttdeci">void modify_ngrow(const std::string &amp;name, int idx, IntVect ngrow)</div><div class="ttdoc">modify the number of grow cells associated with the multifab </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:141</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a3acf0d91b32d1d08dbe32046028f1466a13b5bfe96f3e2fe411c9f66f4a582adf"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466a13b5bfe96f3e2fe411c9f66f4a582adf">amrex::ForkJoin::Intent::in</a></div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a881f63caba3362175d9b80ff372c70ea"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a881f63caba3362175d9b80ff372c70ea">amrex::ForkJoin::reg_mf_vec</a></div><div class="ttdeci">void reg_mf_vec(const Vector&lt; MultiFab const *&gt; &amp;mfs, const std::string &amp;name, Strategy strategy, Intent intent, int owner=-1)</div><div class="ttdoc">overload in case of vector of pointer to const MultiFab </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:85</div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1ComponentSet_html_a12a2ef93337b59b9371db5f9bc43be69"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1ComponentSet.html#a12a2ef93337b59b9371db5f9bc43be69">amrex::ForkJoin::ComponentSet::lo</a></div><div class="ttdeci">int lo</div><div class="ttdoc">inclusive bound </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:28</div></div>
<div class="ttc" id="namespaceamrex_1_1ParallelContext_html_a09cb92f4a123081a62f72e26a4e3c2a3"><div class="ttname"><a href="namespaceamrex_1_1ParallelContext.html#a09cb92f4a123081a62f72e26a4e3c2a3">amrex::ParallelContext::push</a></div><div class="ttdeci">void push(MPI_Comm c)</div><div class="ttdef"><b>Definition:</b> AMReX_ParallelContext.H:100</div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1MFFork_html_a67f00ed8c48e03e4b18dcecaa19b14d1"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1MFFork.html#a67f00ed8c48e03e4b18dcecaa19b14d1">amrex::ForkJoin::MFFork::MFFork</a></div><div class="ttdeci">MFFork(MultiFab *omf, Strategy s, Intent i, int own, const IntVect &amp;ng, Vector&lt; ComponentSet &gt; cs)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:168</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a3acf0d91b32d1d08dbe32046028f1466"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a3acf0d91b32d1d08dbe32046028f1466">amrex::ForkJoin::Intent</a></div><div class="ttdeci">Intent</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:19</div></div>
<div class="ttc" id="classamrex_1_1Vector_html"><div class="ttname"><a href="classamrex_1_1Vector.html">amrex::Vector&lt; int &gt;</a></div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a72de18d1d16fadce31b830834ffff282"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282">amrex::ForkJoin::Strategy</a></div><div class="ttdeci">Strategy</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:14</div></div>
<div class="ttc" id="namespaceamrex_1_1ParallelContext_html_af6494464a81b93bee92095f59487324b"><div class="ttname"><a href="namespaceamrex_1_1ParallelContext.html#af6494464a81b93bee92095f59487324b">amrex::ParallelContext::set_last_frame_ofs</a></div><div class="ttdeci">void set_last_frame_ofs(const std::string &amp;filename)</div><div class="ttdef"><b>Definition:</b> AMReX_ParallelContext.H:102</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_ad4b77ac1de1547c3903014ba22c0306b"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#ad4b77ac1de1547c3903014ba22c0306b">amrex::ForkJoin::create_task_output_dir</a></div><div class="ttdeci">void create_task_output_dir()</div><div class="ttdoc">create the task output directory </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:352</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a9bda4e24001c99d756c6104f67925e72"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a9bda4e24001c99d756c6104f67925e72">amrex::ForkJoin::set_task_output_dir</a></div><div class="ttdeci">void set_task_output_dir(const std::string &amp;dir)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:123</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a710675d78fd400523b979d941930b56e"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a710675d78fd400523b979d941930b56e">amrex::ForkJoin::dms</a></div><div class="ttdeci">std::map&lt; BoxArray::RefID, Vector&lt; std::unique_ptr&lt; DistributionMapping &gt; &gt; &gt; dms</div><div class="ttdoc">DM cache. </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:180</div></div>
<div class="ttc" id="namespaceamrex_1_1ParallelContext_html_a6bdab1c75756fa491add5ace4c59550f"><div class="ttname"><a href="namespaceamrex_1_1ParallelContext.html#a6bdab1c75756fa491add5ace4c59550f">amrex::ParallelContext::pop</a></div><div class="ttdeci">void pop()</div><div class="ttdoc">Note that it&amp;#39;s the user&amp;#39;s responsibility to free the MPI_Comm. </div><div class="ttdef"><b>Definition:</b> AMReX_ParallelContext.H:106</div></div>
<div class="ttc" id="classamrex_1_1DistributionMapping_html"><div class="ttname"><a href="classamrex_1_1DistributionMapping.html">amrex::DistributionMapping</a></div><div class="ttdoc">Calculates the distribution of FABs to MPI processes. </div><div class="ttdef"><b>Definition:</b> AMReX_DistributionMapping.H:41</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_aeeadf363cdd980b987df6b196dcd8c6d"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#aeeadf363cdd980b987df6b196dcd8c6d">amrex::ForkJoin::modify_split</a></div><div class="ttdeci">void modify_split(const std::string &amp;name, Vector&lt; ComponentSet &gt; comp_split)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:101</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_ad9801acca834dcbc7ec55dd3c34f48aa"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#ad9801acca834dcbc7ec55dd3c34f48aa">amrex::ForkJoin::flag_invoked</a></div><div class="ttdeci">bool flag_invoked</div><div class="ttdoc">track if object has been invoked yet </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:177</div></div>
<div class="ttc" id="classamrex_1_1IntVect_html"><div class="ttname"><a href="classamrex_1_1IntVect.html">amrex::IntVect</a></div><div class="ttdef"><b>Definition:</b> AMReX_IntVect.H:46</div></div>
<div class="ttc" id="AMReX__ccse-mpi_8H_html_a68c509d4adb3f4a1d6fe3a9b0b87c7b9"><div class="ttname"><a href="AMReX__ccse-mpi_8H.html#a68c509d4adb3f4a1d6fe3a9b0b87c7b9">MPI_Comm</a></div><div class="ttdeci">int MPI_Comm</div><div class="ttdef"><b>Definition:</b> AMReX_ccse-mpi.H:49</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_ac17370c5ba5f31bf037c5ca3992c3f66"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#ac17370c5ba5f31bf037c5ca3992c3f66">amrex::ForkJoin::task_output_dir</a></div><div class="ttdeci">std::string task_output_dir</div><div class="ttdoc">where to write task output </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:182</div></div>
<div class="ttc" id="AMReX__MultiFab_8H_html"><div class="ttname"><a href="AMReX__MultiFab_8H.html">AMReX_MultiFab.H</a></div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1ComponentSet_html"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1ComponentSet.html">amrex::ForkJoin::ComponentSet</a></div><div class="ttdoc">if strategy == split, use this to specify how to split components across tasks </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:22</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a89798a7caff182b9c8e3d5803842fd5c"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a89798a7caff182b9c8e3d5803842fd5c">amrex::ForkJoin::modify_ngrow</a></div><div class="ttdeci">void modify_ngrow(const std::string &amp;name, IntVect ngrow)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:95</div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1ComponentSet_html_af2f4c74446fd82b0a03403dcbecb6e7d"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1ComponentSet.html#af2f4c74446fd82b0a03403dcbecb6e7d">amrex::ForkJoin::ComponentSet::ComponentSet</a></div><div class="ttdeci">ComponentSet()</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:26</div></div>
<div class="ttc" id="AMReX__BLassert_8H_html_a8013eb3b1fc596632383f1bb7c40e92c"><div class="ttname"><a href="AMReX__BLassert_8H.html#a8013eb3b1fc596632383f1bb7c40e92c">AMREX_ASSERT_WITH_MESSAGE</a></div><div class="ttdeci">#define AMREX_ASSERT_WITH_MESSAGE(EX, MSG)</div><div class="ttdef"><b>Definition:</b> AMReX_BLassert.H:37</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_ab1ed7e37b6df653a97423cd2402d4817"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#ab1ed7e37b6df653a97423cd2402d4817">amrex::ForkJoin::Verbose</a></div><div class="ttdeci">bool Verbose() const</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:43</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_ac9e1d5f47bb112898e4bf7f56d738f0a"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#ac9e1d5f47bb112898e4bf7f56d738f0a">amrex::ForkJoin::SetVerbose</a></div><div class="ttdeci">void SetVerbose(bool verbose_in)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:45</div></div>
<div class="ttc" id="classamrex_1_1MultiFab_html"><div class="ttname"><a href="classamrex_1_1MultiFab.html">amrex::MultiFab</a></div><div class="ttdoc">A collection (stored as an array) of FArrayBox objects. This class is useful for storing floating poi...</div><div class="ttdef"><b>Definition:</b> AMReX_MultiFab.H:35</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_acc05284c00f1aafed90fb1c2a2fd6386"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#acc05284c00f1aafed90fb1c2a2fd6386">amrex::ForkJoin::set_task_output_file</a></div><div class="ttdeci">static void set_task_output_file(const std::string &amp;filename)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:128</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a0f117148e0f71675c66d2658a49c75cc"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a0f117148e0f71675c66d2658a49c75cc">amrex::ForkJoin::NTasks</a></div><div class="ttdeci">int NTasks() const</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:39</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a72de18d1d16fadce31b830834ffff282add5c07036f2975ff4bce568b6511d3bc"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282add5c07036f2975ff4bce568b6511d3bc">amrex::ForkJoin::Strategy::single</a></div><div class="ttdoc">one task gets a copy of whole MF </div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a696ffed713794753cb3d42f63eaad6ab"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a696ffed713794753cb3d42f63eaad6ab">amrex::ForkJoin::split_bounds</a></div><div class="ttdeci">Vector&lt; int &gt; split_bounds</div><div class="ttdoc">task i has ranks over the interval [result[i], result[i+1]) </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:178</div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1MFFork_html_a10f36654d975cbc986561d7c1931a02b"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1MFFork.html#a10f36654d975cbc986561d7c1931a02b">amrex::ForkJoin::MFFork::comp_split</a></div><div class="ttdeci">Vector&lt; ComponentSet &gt; comp_split</div><div class="ttdoc">if strategy == split, how to split components to tasks </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:160</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a7d6ce14751cb1212501bb1cdc36f57cb"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a7d6ce14751cb1212501bb1cdc36f57cb">amrex::ForkJoin::get_mf</a></div><div class="ttdeci">MultiFab &amp; get_mf(const std::string &amp;name, int idx=0)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:107</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_aed6698adf890b9907f61c1c00e81618e"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#aed6698adf890b9907f61c1c00e81618e">amrex::ForkJoin::MyTask</a></div><div class="ttdeci">int MyTask() const</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:41</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a943794e0f810e216579ad8156d11cd20"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a943794e0f810e216579ad8156d11cd20">amrex::ForkJoin::flag_verbose</a></div><div class="ttdeci">bool flag_verbose</div><div class="ttdoc">for debugging </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:176</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_af28d2dad955c8aeeb067472559794d86"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#af28d2dad955c8aeeb067472559794d86">amrex::ForkJoin::split_tasks</a></div><div class="ttdeci">MPI_Comm split_tasks()</div><div class="ttdoc">split top frame of stack </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:330</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a3a644e5e5a02bd0c163b612784f06c24"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a3a644e5e5a02bd0c163b612784f06c24">amrex::ForkJoin::reg_mf</a></div><div class="ttdeci">void reg_mf(const MultiFab &amp;mf, const std::string &amp;name, int idx, Strategy strategy, Intent intent, int owner=-1)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:65</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a72de18d1d16fadce31b830834ffff282a24f1b0a79473250c195c7fb84e393392"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282a24f1b0a79473250c195c7fb84e393392">amrex::ForkJoin::Strategy::duplicate</a></div><div class="ttdoc">all tasks get a copy of whole MF </div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_ad79ddeb1fdd7d6a72546c66728b3ccd8"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#ad79ddeb1fdd7d6a72546c66728b3ccd8">amrex::ForkJoin::copy_data_from_tasks</a></div><div class="ttdeci">void copy_data_from_tasks()</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:241</div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1MFFork_html_a922cc68b9dce362ee62f0d724dede442"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1MFFork.html#a922cc68b9dce362ee62f0d724dede442">amrex::ForkJoin::MFFork::strategy</a></div><div class="ttdeci">Strategy strategy</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:156</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a8e0a68a47c9455b335eff47b577a44cb"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a8e0a68a47c9455b335eff47b577a44cb">amrex::ForkJoin::get_mf_vec</a></div><div class="ttdeci">Vector&lt; MultiFab * &gt; get_mf_vec(const std::string &amp;name)</div><div class="ttdoc">vector of pointers to all MFs under a name </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:114</div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1MFFork_html_aab173e1a49428a72e1099f8925dfeb56"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1MFFork.html#aab173e1a49428a72e1099f8925dfeb56">amrex::ForkJoin::MFFork::owner_task</a></div><div class="ttdeci">int owner_task</div><div class="ttdoc">only used if strategy == single or duplicate </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:158</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a9dda141f12088bebd3b62ae96407ecdf"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a9dda141f12088bebd3b62ae96407ecdf">amrex::ForkJoin::ComponentBounds</a></div><div class="ttdeci">ComponentSet ComponentBounds(const std::string &amp;name, int idx=0) const</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:171</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a72de18d1d16fadce31b830834ffff282aeefec303079ad17405c889e092e105b0"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a72de18d1d16fadce31b830834ffff282aeefec303079ad17405c889e092e105b0">amrex::ForkJoin::Strategy::split</a></div><div class="ttdoc">split MF components across tasks </div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1MFFork_html_a335de4835763f4875e6c6089f5e739c9"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1MFFork.html#a335de4835763f4875e6c6089f5e739c9">amrex::ForkJoin::MFFork::forked</a></div><div class="ttdeci">Vector&lt; MultiFab &gt; forked</div><div class="ttdoc">holds new multifab for each task in fork </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:161</div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1ComponentSet_html_a7d0fbbb79ec0286ab72dfe0d23116573"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1ComponentSet.html#a7d0fbbb79ec0286ab72dfe0d23116573">amrex::ForkJoin::ComponentSet::ComponentSet</a></div><div class="ttdeci">ComponentSet(int lo_, int hi_)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:27</div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1MFFork_html_a3d57d55dc4495341b7bd6de0ac9e4bd6"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1MFFork.html#a3d57d55dc4495341b7bd6de0ac9e4bd6">amrex::ForkJoin::MFFork::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:173</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a76a2bb1b6fb5ffd97b28020531b6f3f6"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a76a2bb1b6fb5ffd97b28020531b6f3f6">amrex::ForkJoin::copy_data_to_tasks</a></div><div class="ttdeci">void copy_data_to_tasks()</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:179</div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1MFFork_html_ab30d7bacb605f55a7714f002a92f2cf6"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1MFFork.html#ab30d7bacb605f55a7714f002a92f2cf6">amrex::ForkJoin::MFFork::ngrow</a></div><div class="ttdeci">IntVect ngrow</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:159</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a2d8bbf7d8eb515f4249b97829a733c33"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a2d8bbf7d8eb515f4249b97829a733c33">amrex::ForkJoin::ForkJoin</a></div><div class="ttdeci">ForkJoin(int ntasks)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:36</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_aa85661d9ea8d4f7ccf69146257b53f6b"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#aa85661d9ea8d4f7ccf69146257b53f6b">amrex::ForkJoin::reg_mf_vec</a></div><div class="ttdeci">void reg_mf_vec(const Vector&lt; MultiFab *&gt; &amp;mfs, const std::string &amp;name, Strategy strategy, Intent intent, int owner=-1)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:76</div></div>
<div class="ttc" id="classamrex_1_1BoxArray_html"><div class="ttname"><a href="classamrex_1_1BoxArray.html">amrex::BoxArray</a></div><div class="ttdef"><b>Definition:</b> AMReX_BoxArray.H:525</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_acd674b9f0159c359a040afa7e3ba4fe8"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#acd674b9f0159c359a040afa7e3ba4fe8">amrex::ForkJoin::modify_split</a></div><div class="ttdeci">void modify_split(const std::string &amp;name, int idx, Vector&lt; ComponentSet &gt; comp_split)</div><div class="ttdoc">modify how the multifab is split along components across the tasks </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:155</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_aecdcd8a490ce68812e19ba6e6f17d320"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#aecdcd8a490ce68812e19ba6e6f17d320">amrex::ForkJoin::get_io_filename</a></div><div class="ttdeci">std::string get_io_filename(bool flag_unique=false)</div><div class="ttdoc">unique output file for this sub-task </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:365</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_ac35ec951548cc1e54dfc60b0d65df8e8"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#ac35ec951548cc1e54dfc60b0d65df8e8">amrex::ForkJoin::get_dm</a></div><div class="ttdeci">const DistributionMapping &amp; get_dm(const BoxArray &amp;ba, int task_idx, const DistributionMapping &amp;dm_orig)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:283</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_aed221768a48c51c89a5b4c2c5d0de5b3"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#aed221768a48c51c89a5b4c2c5d0de5b3">amrex::ForkJoin::reg_mf</a></div><div class="ttdeci">void reg_mf(MultiFab &amp;mf, const std::string &amp;name, Strategy strategy, Intent intent, int owner=-1)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:57</div></div>
<div class="ttc" id="namespaceamrex_html"><div class="ttname"><a href="namespaceamrex.html">amrex</a></div><div class="ttdef"><b>Definition:</b> AMReX_Amr.cpp:51</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a2f557068fd57a8cd131263fa6769b631"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a2f557068fd57a8cd131263fa6769b631">amrex::ForkJoin::fork_join</a></div><div class="ttdeci">void fork_join(const F &amp;fn)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:134</div></div>
<div class="ttc" id="AMReX__BLassert_8H_html_aad6450907585a147153aef621fdc6007"><div class="ttname"><a href="AMReX__BLassert_8H.html#aad6450907585a147153aef621fdc6007">AMREX_ASSERT</a></div><div class="ttdeci">#define AMREX_ASSERT(EX)</div><div class="ttdef"><b>Definition:</b> AMReX_BLassert.H:38</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_aa15bb285525ea9be4f00ee4dbd6cd1eb"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#aa15bb285525ea9be4f00ee4dbd6cd1eb">amrex::ForkJoin::reg_mf</a></div><div class="ttdeci">void reg_mf(const MultiFab &amp;mf, const std::string &amp;name, Strategy strategy, Intent intent, int owner=-1)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:71</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a66e56de654ced923e6885ebd79bd75f2"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a66e56de654ced923e6885ebd79bd75f2">amrex::ForkJoin::reg_mf</a></div><div class="ttdeci">void reg_mf(MultiFab &amp;mf, const std::string &amp;name, int idx, Strategy strategy, Intent intent, int owner=-1)</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.cpp:107</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_a1223321add76c9d8eb7dc032c051012d"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#a1223321add76c9d8eb7dc032c051012d">amrex::ForkJoin::data</a></div><div class="ttdeci">std::unordered_map&lt; std::string, Vector&lt; MFFork &gt; &gt; data</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:181</div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1MFFork_html_adab1f2dcfd2d52eebf3c6727ef5e37d7"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1MFFork.html#adab1f2dcfd2d52eebf3c6727ef5e37d7">amrex::ForkJoin::MFFork::intent</a></div><div class="ttdeci">Intent intent</div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:157</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html_ac7e00cc0d9436d4445b3e338b46dd003"><div class="ttname"><a href="classamrex_1_1ForkJoin.html#ac7e00cc0d9436d4445b3e338b46dd003">amrex::ForkJoin::task_me</a></div><div class="ttdeci">int task_me</div><div class="ttdoc">which forked task the rank belongs to </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:179</div></div>
<div class="ttc" id="classamrex_1_1ForkJoin_html"><div class="ttname"><a href="classamrex_1_1ForkJoin.html">amrex::ForkJoin</a></div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:10</div></div>
<div class="ttc" id="AMReX__ParallelContext_8H_html"><div class="ttname"><a href="AMReX__ParallelContext_8H.html">AMReX_ParallelContext.H</a></div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1MFFork_html"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1MFFork.html">amrex::ForkJoin::MFFork</a></div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:153</div></div>
<div class="ttc" id="structamrex_1_1ForkJoin_1_1ComponentSet_html_aa6ebc6ce0f58172561258c343c9b0921"><div class="ttname"><a href="structamrex_1_1ForkJoin_1_1ComponentSet.html#aa6ebc6ce0f58172561258c343c9b0921">amrex::ForkJoin::ComponentSet::hi</a></div><div class="ttdeci">int hi</div><div class="ttdoc">exclusive bound </div><div class="ttdef"><b>Definition:</b> AMReX_ForkJoin.H:29</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
