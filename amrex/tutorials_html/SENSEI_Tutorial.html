<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SENSEI &mdash; amrex 24.08-dev documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/theme_overrides.css?v=681a4282" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=2064b023"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="SUNDIALS and Time Integrators" href="SUNDIALS_Tutorial.html" />
    <link rel="prev" title="SDC" href="SDC_Tutorial.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            amrex
          </a>
              <div class="version">
                24.08-dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="GuidedTutorials.html">Guided Tutorials</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="AMR_Tutorial.html">Amr</a></li>
<li class="toctree-l1"><a class="reference internal" href="Basic_Tutorial.html">Basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="Blueprint_Tutorial.html">Blueprint</a></li>
<li class="toctree-l1"><a class="reference internal" href="EB_Tutorial.html">EB</a></li>
<li class="toctree-l1"><a class="reference internal" href="FFTW_Tutorial.html">FFTW</a></li>
<li class="toctree-l1"><a class="reference internal" href="ForkJoin_Tutorial.html">Forkjoin</a></li>
<li class="toctree-l1"><a class="reference internal" href="GPU_Tutorial.html">GPU</a></li>
<li class="toctree-l1"><a class="reference internal" href="heFFTe_Tutorial.html">heFFTe</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinearSolvers_Tutorial.html">LinearSolvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ML_Tutorial.html">ML/PYTORCH</a></li>
<li class="toctree-l1"><a class="reference internal" href="MPMD_Tutorials.html">AMReX-MPMD</a></li>
<li class="toctree-l1"><a class="reference internal" href="MUI_Tutorial.html">MUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="Particles_Tutorial.html">Particles</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python_Tutorial.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="SDC_Tutorial.html">SDC</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">SENSEI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-the-build">Setting up the build</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#build-options">Build options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-tutorials">Running the tutorials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SUNDIALS_Tutorial.html">SUNDIALS and Time Integrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="SWFFT_Tutorial.html">SWFFT</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">amrex</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">SENSEI</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/SENSEI_Tutorial.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="sensei">
<span id="tutorials-sensei"></span><h1>SENSEI<a class="headerlink" href="#sensei" title="Link to this heading"></a></h1>
<p>SENSEI is a middleware that allows one to send data to various visualization and
analysis back ends through a uniform interface. It’s data model and API enable
one to chose the desired visualization and analysis back end for a given task
with out limiting ones options, as the back ends can be inter-changed at run
time via a text based config file.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The following tutorials are available:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Advection_AmrCore</p></td>
<td><p>This tutorial illustrates an explicit SENSEI instrumentation of a code
that makes use of <cite>amrex::AmrMesh</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p>Advection_AmrLevel</p></td>
<td><p>This tutorial illustrates 3 scenarios with a code that makes use of
<cite>amrex::Amr</cite>. The first, <cite>ImplcitAmr</cite>, illustrates using SENSEI with the
built-in instrumentation in <cite>amrex::Amr</cite>. The second, <cite>ExplcitAmr</cite>,
illustrates using SENSEI with an explicit instrumentation. The third,
<cite>ExplicitParticlesAndAmr</cite>, illustrates using SENSEI from a simulation
that generates both particle and meshed based data.</p></td>
</tr>
</tbody>
</table>
<p>Note that the <cite>Advection_AmrLevel</cite> contains code for 3 different scenarios.
Which of these is active/available depends on how AMReX is compiled. See below
for the details on configuring the build.</p>
</section>
<section id="setting-up-the-build">
<h2>Setting up the build<a class="headerlink" href="#setting-up-the-build" title="Link to this heading"></a></h2>
<p>Compiling the AMReX SENSEI tutorials requires that SENSEI is previously
installed. The options that SENSEI was built with determine the specific in
situ capabilities available. Additional CMake options must also be passed
when compiling AMReX to activate the SENSEI bridge and adaptors bundled
with AMReX.</p>
<section id="build-options">
<h3>Build options<a class="headerlink" href="#build-options" title="Link to this heading"></a></h3>
<p>The options that AMReX is compiled with determine which SENSEI tutorials are
available. The following table summarizes the various combinations and results.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>CMake Options</p></th>
<th class="head"><p>What gets built</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-DAMReX_SENSEI=ON
-DAMReX_FORTRAN=ON
-DSENSEI_DIR=&lt;path to install&gt;</p></td>
<td><p>Enables SENSEI features in AMReX. Required to compile SENSEI
tutorials. Enables the AmrCore tutorial and AmrLevel
implicit tutorial.</p></td>
</tr>
<tr class="row-odd"><td><p>-DAMReX_SENSEI=ON
-DAMReX_PARTICLES=ON
-DAMReX_NO_SENSEI_AMR_INST=TRUE
-DAMReX_FORTRAN=ON
-DSENSEI_DIR=&lt;path to install&gt;</p></td>
<td><p>Enables the AmrCore tutorial, AmrLevel explicit tutorial,
and particle based tutorials to be compiled.</p></td>
</tr>
<tr class="row-even"><td><p>-DAMReX_SENSEI=ON
-DAMReX_NO_SENSEI_AMR_INST=TRUE
-DAMReX_FORTRAN=ON
-DSENSEI_DIR=&lt;path to install&gt;</p></td>
<td><p>Enables the AmrCore tutorial, AmrLevel explicit tutorial.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="running-the-tutorials">
<h2>Running the tutorials<a class="headerlink" href="#running-the-tutorials" title="Link to this heading"></a></h2>
<p>Once the tutorials are compiled they can be run from their corresponding
directory.  The executable is passed an AMReX parm-parse <cite>inputs</cite> file
configuring the run. Options inside the <cite>inputs</cite> file configure the SENSEI
instrumentation inside AMReX. Additionally SENSEI needs to configure the
back-end that will process the data generated. This is done with a SENSEI XML
file. Within each tutorial the <cite>sensei</cite> directory contains a number of SENSEI
XML configuration files. The <cite>inputs</cite> file must be modified to point to one of
these. Which one depends on how SENSEI was compiled. For instance the following
snippet from an <cite>inputs</cite> file would configure SENSEI to send data to ParaView
Catalyst,</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sensei.enabled<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w">                                 </span><span class="c1"># turn SENSEI in situ on/off</span>
sensei.config<span class="w"> </span><span class="o">=</span><span class="w"> </span>sensei/render_iso_catalyst_3d.xml<span class="w">  </span><span class="c1"># render simulation data with ParaView Catalyst</span>
sensei.frequency<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w">                               </span><span class="c1"># number of level 0 steps between in situ processing</span>
</pre></div>
</div>
<p>while the following snippet would configure SENSEI to send data to VisIt Libsim,</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sensei.enabled<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w">                                 </span><span class="c1"># turn SENSEI in situ on/off</span>
sensei.config<span class="w"> </span><span class="o">=</span><span class="w"> </span>sensei/render_iso_libsim_3d.xml<span class="w">    </span><span class="c1"># render simulation data with ParaView Catalyst</span>
sensei.frequency<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w">                               </span><span class="c1"># number of level 0 steps between in situ processing</span>
</pre></div>
</div>
<p>There are a number of XML files providing the configuration for a number of the
available back-ends. A given SENSEI XML configuration is only valid when the
SENSEI install has been compiled with the requisite back-end enabled.</p>
<p>Note that the <cite>Advection_AmrLevel_ExplicitParticlesAndAmr</cite> uses the file
<cite>inputs.tracers</cite> while the others use the file <cite>inputs</cite>.</p>
<p>The tutorials are run by switching into the tutorial’s build directory and
issuing the launching command. For instance the
<cite>Advection_AmrLevel_ImplicitAmr</cite> tutorial is launched by a command similar to:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mpiexec<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>./Advection_AmrLevel_ImplicitAmr<span class="w"> </span>inputs
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="SDC_Tutorial.html" class="btn btn-neutral float-left" title="SDC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="SUNDIALS_Tutorial.html" class="btn btn-neutral float-right" title="SUNDIALS and Time Integrators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2018, AMReX Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>